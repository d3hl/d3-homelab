komodo:
  # Add additonal vars: section for ssh keyfiles, etc.
  hosts:
    kmd1:
      ansible_host: 10.10.10.30
    kmd2:
      ansible_host: 10.10.10.31
    kmd3:
      ansible_host: 10.10.10.32
    kmd4:
      ansible_host: 10.10.10.33
    kmd5:
      ansible_host: 10.10.10.34
    k-120:
      ansible_host: 10.203.1.120
    k-121:
      ansible_host: 10.203.1.121
  children:
    komodo:
      vars:
        komodo_core_url: "http://10.10.10.30:9120"
        ansible_become_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39343161376537346633343035303635643939363832373362386637353433363662666363343238
          3230666330663337633634393562303961616133353637320a366466343033623062383761623266
          39643535356635333461333561616465663531346363663666393531336462363362313161653966
          3532643465653361380a346164643236613338333061343337383861383032623630623131326661
          3530
        komodo_core_api_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34386637633865393837396237633063633837346333633365663830633964656531376466316639
          3962366630323164663665333764303330646338353663660a323164333439653730313834636632
          35363162363133623366646335373335636337623130313466363536356234313935393162313931
          3339313534663639630a346130376564393533353831656131343564303261656538356564336165
          39333838306132316265366532633237613330613763303064656238383964666566353239633833
          3361346133643466333634323961643834666231366665303731
        komodo_core_api_secret: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30623033323164363231356130356665633430653362636430333534643732356466633566633636
          3331636139393039333432346136623136643638616536630a386462616433383534653531393234
          38636332663531633238333738663333313437313664343562636363343265633065623937326335
          3434316134326161340a346563643930376364336632626338333963373132613936386433366436
          33646138353765633161663062343138336133386231666239656130373533373939346239343538
          6637383236303065613866396266626562373939353737656636
        enable_server_management: true
      children:
        core:
          hosts:
            kmd1:
              komodo_periphery_port: 8120
              generate_server_passkey: true
              server_address: https://host.docker.internal:{{ komodo_periphery_port }}
        periphery:
          hosts:
            kmd2:
              generate_server_passkey: true
              komodo_allowed_ips:
                - "{{ hostvars['kmd1'].ansible_host }}"
              komodo_bind_ip: "{{ ansible_host }}"
            kmd3:
              generate_server_passkey: true
              komodo_allowed_ips:
                - "{{ hostvars['kmd1'].ansible_host }}"
              komodo_bind_ip: "{{ ansible_host }}"
            kmd4:
              generate_server_passkey: true
              komodo_allowed_ips:
                - "{{ hostvars['kmd1'].ansible_host }}"
              komodo_bind_ip: "{{ ansible_host }}"
            kmd5:
              generate_server_passkey: true
              komodo_allowed_ips:
                - "{{ hostvars['kmd1'].ansible_host }}"
              komodo_bind_ip: "{{ ansible_host }}" 
            k-120:
              generate_server_passkey: true
              komodo_allowed_ips:
                - "{{ hostvars['kmd1'].ansible_host }}"
              komodo_bind_ip: "{{ ansible_host }}" 
            k-121:
              generate_server_passkey: true
              komodo_allowed_ips:
                - "{{ hostvars['kmd1'].ansible_host }}"
              komodo_bind_ip: "{{ ansible_host }}" 