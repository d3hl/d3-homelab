komodo:
  # Add additonal vars: section for ssh keyfiles, etc.
  hosts:
    kmd1:
      ansible_host: 10.10.10.30
    kmd2:
      ansible_host: 10.10.10.31
    kmd3:
      ansible_host: 10.10.10.32
    kmd4:
      ansible_host: 10.10.10.33
    kmd5:
      ansible_host: 10.10.10.34
    k-120:
      ansible_host: 10.203.1.120
    k-121:
      ansible_host: 10.203.1.121
  children:
    komodo:
      vars:
        komodo_core_url: "http://10.10.10.30:9120"
        ansible_become_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33633330313032306161313862663439383661626363386566323166363730643663636439366263
          3338323437313234393663313930303233316638653461620a373466323937636664653435666432
          62316363373037636639373938353239623738313730633766636562303931376634396233643762
          3262306232663938660a353631303739313032353863653466613832353933393530376532653732
          36306666663262663663353639333433386536663638646431316462313666393534
        komodo_core_api_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37313564386232613637353034626362336461323362373165336161623865643330323134656366
          6435393838646531643132306161653534396562623532640a303935373865616534633035333864
          34303530623764373231663262373764306665383334393339346461356636656536333833343534
          6637323732383264360a623064363461383261313066356462653565323238613262323738346634
          65653831386237636531633336663735613265663261353632313737346232306361393262616233
          6633323538313939633532646564393131316230653739363964
        komodo_core_api_secret: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33653462623261623266633061636162373433353934653731616566356561333962663730303063
          3833383230353033363435383566323133336634356661380a643735386639333666313063333536
          33333534666532323335303239363938356532633933646563306566636131363936313530613130
          3234323239353462300a663962386363646430346563346232363561383334346161633638356161
          62643961303139336135636462626132613834323138643366383738333436343534303931666337
          3166363732356135356236333231336530616262346137306161
        enable_server_management: true
      children:
        core:
          hosts:
            kmd1:
              komodo_periphery_port: 8120
              generate_server_passkey: true
              server_address: https://host.docker.internal:{{ komodo_periphery_port }}
        periphery:
          hosts:
            kmd2:
              generate_server_passkey: true
              komodo_allowed_ips:
                - "{{ hostvars['kmd1'].ansible_host }}"
              komodo_bind_ip: "{{ ansible_host }}"
            kmd3:
              generate_server_passkey: true
              komodo_allowed_ips:
                - "{{ hostvars['kmd1'].ansible_host }}"
              komodo_bind_ip: "{{ ansible_host }}"
            kmd4:
              generate_server_passkey: true
              komodo_allowed_ips:
                - "{{ hostvars['kmd1'].ansible_host }}"
              komodo_bind_ip: "{{ ansible_host }}"
            kmd5:
              generate_server_passkey: true
              komodo_allowed_ips:
                - "{{ hostvars['kmd1'].ansible_host }}"
              komodo_bind_ip: "{{ ansible_host }}" 
            k-120:
              generate_server_passkey: true
              komodo_allowed_ips:
                - "{{ hostvars['kmd1'].ansible_host }}"
              komodo_bind_ip: "{{ ansible_host }}" 
            k-121:
              generate_server_passkey: true
              komodo_allowed_ips:
                - "{{ hostvars['kmd1'].ansible_host }}"
              komodo_bind_ip: "{{ ansible_host }}" 